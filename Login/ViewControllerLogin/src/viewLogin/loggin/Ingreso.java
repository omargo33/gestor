package viewLogin.loggin;import javax.faces.context.ExternalContext;import oracle.adf.model.BindingContext;import oracle.binding.BindingContainer;import oracle.binding.OperationBinding;import view.plantilla.BaseBean;import viewLogin.utilidades.Flow;/** * Objeto para dar soporte de ingreso. * * @author omargo33@hotmail.com */public class Ingreso extends BaseBean {    String token = "";    String url = "";    ExternalContext externalContext;    /**     * Metodo para crear objeto.     */    public Ingreso() {        super();        setNombreBundle(Flow.BUNDLE);    }    public BindingContainer getBindings() {        return BindingContext.getCurrent().getCurrentBindingsEntry();    }    /**     * Metodo para conocer el token y el URL.     *     * @return     */    public String actionIngresar() {        if (crearToken()) {            if (crearUrl()) {                                getSession().setAttribute("url", url);                getSession().setAttribute("token", token);                                return "login";                            }        }        return null;    }    /**     * Metodo para crear el token.     *     * @return     */    public boolean crearToken() {        BindingContainer bindings = getBindings();        OperationBinding operationBinding = bindings.getOperationBinding("validarUsuario");        token = String.valueOf(operationBinding.execute());        return operationBinding.getErrors().isEmpty();    }    /**     * Metodo para crear la URL.     *     * @return     */    private boolean crearUrl() {        BindingContainer bindings = getBindings();        OperationBinding operationBinding = bindings.getOperationBinding("contextoInicial");        url = String.valueOf(operationBinding.execute());        return operationBinding.getErrors().isEmpty();    }}